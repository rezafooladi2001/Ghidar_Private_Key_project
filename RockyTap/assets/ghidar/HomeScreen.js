import{r as c,j as e,C as h,a as g,u as v,g as T,T as w,b as y,A as L,L as I,c as k,R as B,d as C}from"./index.js";import{g as D,a as S,b as E,L as $,E as R,P as V}from"./PullToRefresh.js";import{W as A}from"./WalletSummary.js";const G="_container_1xpen_1",M="_content_1xpen_5",z="_stat_1xpen_14",F="_statValue_1xpen_23",P="_statLabel_1xpen_31",U="_divider_1xpen_38",H="_updateIndicator_1xpen_45",W="_updateDot_1xpen_54",K="_statSkeleton_1xpen_72",O="_labelSkeleton_1xpen_80",s={container:G,content:M,stat:z,statValue:F,statLabel:P,divider:U,updateIndicator:H,updateDot:W,statSkeleton:K,labelSkeleton:O};function f(a){return a>=1e6?`${(a/1e6).toFixed(1)}M+`:a>=1e3?`${(a/1e3).toFixed(1)}K+`:a.toLocaleString()}function Y({autoRefresh:a=!0,refreshInterval:n=3e4,className:l=""}){const[r,d]=c.useState(null),[m,p]=c.useState(!0),[N,i]=c.useState(null),[u,j]=c.useState(null),_=async()=>{try{i(null);const o=await D();d(o),j(new Date)}catch(o){const b=S(o);i(b),console.warn("Failed to load statistics:",b)}finally{p(!1)}};return c.useEffect(()=>{if(_(),a){const o=setInterval(_,n);return()=>clearInterval(o)}},[a,n]),m&&!r?e.jsx(h,{className:`${s.container} ${l}`,children:e.jsxs(g,{className:s.content,children:[e.jsxs("div",{className:s.stat,children:[e.jsx("div",{className:s.statSkeleton}),e.jsx("div",{className:s.labelSkeleton})]}),e.jsxs("div",{className:s.stat,children:[e.jsx("div",{className:s.statSkeleton}),e.jsx("div",{className:s.labelSkeleton})]}),e.jsxs("div",{className:s.stat,children:[e.jsx("div",{className:s.statSkeleton}),e.jsx("div",{className:s.labelSkeleton})]})]})}):r?e.jsx(h,{className:`${s.container} ${l}`,children:e.jsxs(g,{className:s.content,children:[e.jsxs("div",{className:s.stat,children:[e.jsx("span",{className:s.statValue,children:f(r.total_players)}),e.jsx("span",{className:s.statLabel,children:"Total Users"})]}),e.jsx("div",{className:s.divider,"aria-hidden":"true"}),e.jsxs("div",{className:s.stat,children:[e.jsx("span",{className:s.statValue,children:f(r.online)}),e.jsx("span",{className:s.statLabel,children:"Online Now"})]}),e.jsx("div",{className:s.divider,"aria-hidden":"true"}),e.jsxs("div",{className:s.stat,children:[e.jsx("span",{className:s.statValue,children:f(r.daily)}),e.jsx("span",{className:s.statLabel,children:"New Today"})]}),u&&e.jsx("div",{className:s.updateIndicator,"aria-label":`Last updated: ${u.toLocaleTimeString()}`,children:e.jsx("span",{className:s.updateDot})})]})}):null}const q="_container_tp0b0_1",J="_hero_tp0b0_15",Q="_heroBackground_tp0b0_21",X="_heroContent_tp0b0_30",Z="_greeting_tp0b0_35",ee="_greetingText_tp0b0_39",te="_userName_tp0b0_46",se="_tagline_tp0b0_63",ae="_premiumBadge_tp0b0_70",ne="_premiumIcon_tp0b0_85",re="_walletSection_tp0b0_90",ie="_features_tp0b0_96",ce="_sectionTitle_tp0b0_100",oe="_featureGrid_tp0b0_108",le="_featureCard_tp0b0_114",de="_featureContent_tp0b0_123",ue="_featureIcon_tp0b0_130",_e="_featureInfo_tp0b0_142",me="_featureTitleRow_tp0b0_147",pe="_featureTitle_tp0b0_147",xe="_featureBadge_tp0b0_162",je="_featureDescription_tp0b0_173",fe="_featureArrow_tp0b0_180",he="_trustSection_tp0b0_192",ge="_telegramBranding_tp0b0_197",Ne="_statsSection_tp0b0_205",be="_userStatsSection_tp0b0_210",Se="_statsGrid_tp0b0_215",ve="_stat_tp0b0_205",Te="_statValue_tp0b0_232",we="_statLabel_tp0b0_239",ye="_statDivider_tp0b0_247",t={container:q,hero:J,heroBackground:Q,heroContent:X,greeting:Z,greetingText:ee,userName:te,tagline:se,premiumBadge:ae,premiumIcon:ne,walletSection:re,features:ie,sectionTitle:ce,featureGrid:oe,featureCard:le,featureContent:de,featureIcon:ue,featureInfo:_e,featureTitleRow:me,featureTitle:pe,featureBadge:xe,featureDescription:je,featureArrow:fe,trustSection:he,telegramBranding:ge,statsSection:Ne,userStatsSection:be,statsGrid:Se,stat:ve,statValue:Te,statLabel:we,statDivider:ye};function x({icon:a,title:n,description:l,badge:r,onClick:d,delay:m=0}){return e.jsx(h,{variant:"elevated",className:t.featureCard,onClick:d,padding:"none",children:e.jsxs(g,{className:t.featureContent,children:[e.jsx("div",{className:t.featureIcon,children:a}),e.jsxs("div",{className:t.featureInfo,children:[e.jsxs("div",{className:t.featureTitleRow,children:[e.jsx("h3",{className:t.featureTitle,children:n}),r&&e.jsx("span",{className:t.featureBadge,children:r})]}),e.jsx("p",{className:t.featureDescription,children:l})]}),e.jsx("div",{className:t.featureArrow,children:e.jsx(C,{size:20})})]})})}function Be({onNavigate:a}){const[n,l]=c.useState(null),[r,d]=c.useState(!0),[m,p]=c.useState(null),{showError:N}=v(),i=T();c.useEffect(()=>{u()},[]);const u=async()=>{try{d(!0),p(null);const _=await E();l(_)}catch(_){const o=S(_);p(o),N(o)}finally{d(!1)}};if(r)return e.jsx($,{message:"Loading your wallet..."});if(m)return e.jsx(R,{message:m,onRetry:u});const j=(i==null?void 0:i.first_name)||(n==null?void 0:n.user.first_name)||"User";return e.jsx(V,{onRefresh:u,children:e.jsxs("div",{className:t.container,children:[e.jsxs("section",{className:t.hero,children:[e.jsx("div",{className:t.heroBackground}),e.jsxs("div",{className:t.heroContent,children:[e.jsxs("div",{className:t.greeting,children:[e.jsx("span",{className:t.greetingText,children:"Welcome back,"}),e.jsx("h1",{className:t.userName,children:j})]}),e.jsx("p",{className:t.tagline,children:"Your secure gateway to crypto opportunities"}),e.jsx("div",{className:t.telegramBranding,children:e.jsx(w,{variant:"text"})}),(i==null?void 0:i.is_premium)&&e.jsxs("div",{className:t.premiumBadge,children:[e.jsx("span",{className:t.premiumIcon,children:"â­"}),e.jsx("span",{children:"Premium Member"})]})]})]}),e.jsx("section",{className:t.trustSection,children:e.jsx(y,{variant:"compact",showLabels:!0})}),n&&e.jsx("section",{className:t.walletSection,children:e.jsx(A,{usdtBalance:n.wallet.usdt_balance,ghdBalance:n.wallet.ghd_balance})}),e.jsxs("section",{className:t.features,children:[e.jsx("h2",{className:t.sectionTitle,children:"Explore Features"}),e.jsxs("div",{className:t.featureGrid,children:[e.jsx(x,{icon:e.jsx(L,{size:24,color:"var(--brand-primary)"}),title:"GHD Airdrop",description:"Mine GHD tokens by tapping and convert to USDT",badge:"Popular",onClick:()=>a("airdrop")}),e.jsx(x,{icon:e.jsx(I,{size:24,color:"var(--brand-gold)"}),title:"Lottery",description:"Buy tickets and win big prizes in our draws",onClick:()=>a("lottery")}),e.jsx(x,{icon:e.jsx(k,{size:24,color:"var(--info)"}),title:"AI Trader",description:"Let our AI trade for you and earn passive income",badge:"Pro",onClick:()=>a("trader")}),e.jsx(x,{icon:e.jsx(B,{size:24,color:"var(--success)"}),title:"Referral Program",description:"Invite friends and earn USDT commissions",onClick:()=>a("referral")})]})]}),e.jsx("section",{className:t.statsSection,children:e.jsx(Y,{})}),e.jsx("section",{className:t.userStatsSection,children:e.jsxs("div",{className:t.statsGrid,children:[e.jsxs("div",{className:t.stat,children:[e.jsx("span",{className:t.statValue,children:n!=null&&n.user.joining_date?new Date(n.user.joining_date*1e3).toLocaleDateString(void 0,{month:"short",year:"numeric"}):"Today"}),e.jsx("span",{className:t.statLabel,children:"Member Since"})]}),e.jsx("div",{className:t.statDivider}),e.jsxs("div",{className:t.stat,children:[e.jsx("span",{className:t.statValue,children:"Level 1"}),e.jsx("span",{className:t.statLabel,children:"Account Tier"})]})]})})]})})}export{Be as HomeScreen};
