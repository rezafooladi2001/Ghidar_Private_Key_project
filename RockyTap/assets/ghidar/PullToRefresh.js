import{j as e,a0 as x,a1 as I,B as j,r as m,h as R}from"./index.js";const P="_spinner_1kfdu_1",S="_spin_1kfdu_1",k="_sm_1kfdu_8",A="_md_1kfdu_13",M="_lg_1kfdu_18",D="_loadingScreen_1kfdu_30",L="_loadingMessage_1kfdu_41",O="_loadingBars_1kfdu_48",B="_loadingBar_1kfdu_48",w="_shimmer_1kfdu_1",o={spinner:P,spin:S,sm:k,md:A,lg:M,loadingScreen:D,loadingMessage:L,loadingBars:O,loadingBar:B,shimmer:w};function T({size:n="md",className:t=""}){return e.jsx("div",{className:`${o.spinner} ${o[n]} ${t}`})}function Z({message:n="Loading..."}){return e.jsxs("div",{className:o.loadingScreen,children:[e.jsx(T,{size:"lg"}),e.jsx("p",{className:o.loadingMessage,children:n}),e.jsxs("div",{className:o.loadingBars,children:[e.jsx("div",{className:o.loadingBar}),e.jsx("div",{className:o.loadingBar}),e.jsx("div",{className:o.loadingBar})]})]})}function G(n){if(n instanceof x){const t=n.code,s=n.message;return{RATE_LIMIT_EXCEEDED:"Too many requests. Please slow down and try again.",INSUFFICIENT_FUNDS:"You don't have enough balance for this action.",INSUFFICIENT_BALANCE:"You don't have enough balance for this action.",INVALID_AMOUNT:"Please enter a valid amount.",INVALID_INPUT:"Invalid input. Please check your values and try again.",MIN_DEPOSIT_NOT_MET:"The minimum deposit amount has not been met.",NETWORK_ERROR:"Connection failed. Please check your internet and try again.",PARSE_ERROR:"Server returned an invalid response. Please try again.",HTTP_ERROR:s.includes("401")||s.includes("403")?"Authentication failed. Please reopen the app from Telegram.":s.includes("404")?"Resource not found.":s.includes("500")?"Server error. Please try again later.":s.includes("429")?"Too many requests. Please wait a moment and try again.":s,UNAUTHORIZED:"Authentication failed. Please reopen the app from Telegram.",FORBIDDEN:"You do not have permission to perform this action.",AUTH_ERROR:"Authentication failed. Please close and reopen the app from the Telegram bot.",INTERNAL_ERROR:"An error occurred. Please try again later.",USER_NOT_FOUND:"User account not found.",INVALID_REQUEST:"Invalid request. Please check your input.",METHOD_NOT_ALLOWED:"This action is not allowed."}[t]||s}return n.message||"An unexpected error occurred. Please try again."}const U="_container_1yh7r_1",Y="_icon_1yh7r_11",F="_title_1yh7r_24",$="_message_1yh7r_32",W="_action_1yh7r_40",g={container:U,icon:Y,title:F,message:$,action:W};function J({message:n,title:t="Something went wrong",onRetry:s,retryLabel:a="Try Again"}){return e.jsxs("div",{className:g.container,children:[e.jsx("div",{className:g.icon,children:e.jsx(I,{size:32})}),e.jsx("h3",{className:g.title,children:t}),e.jsx("p",{className:g.message,children:n}),s&&e.jsx("div",{className:g.action,children:e.jsx(j,{onClick:s,variant:"primary",children:a})})]})}function C({onRefresh:n,threshold:t=80,enabled:s=!0}){const[a,c]=m.useState(!1),[i,u]=m.useState(0);m.useRef(null);const _=m.useRef(null);return m.useEffect(()=>{if(!s)return;const r=_.current||document.body;let f=null,h=!1;const p=l=>{r.scrollTop===0&&(f=l.touches[0].clientY,h=!0)},v=l=>{if(!h||f===null)return;const N=l.touches[0].clientY-f;if(N>0){l.preventDefault();const y=Math.min(N*.5,t*1.5);u(y),y>=t&&i<t&&R("light")}},E=async()=>{if(h){if(i>=t&&!a){c(!0),R("medium");try{const l=n();l instanceof Promise&&await l}finally{c(!1),u(0)}}else u(0);f=null,h=!1}};return r.addEventListener("touchstart",p,{passive:!0}),r.addEventListener("touchmove",v,{passive:!1}),r.addEventListener("touchend",E),()=>{r.removeEventListener("touchstart",p),r.removeEventListener("touchmove",v),r.removeEventListener("touchend",E)}},[s,n,t,i,a]),{isRefreshing:a,pullDistance:i,elementRef:_}}const b="_container_1k96c_1",H="_indicator_1k96c_9",q="_spinnerWrapper_1k96c_25",z="_arrow_1k96c_33",V="_text_1k96c_39",K="_content_1k96c_45",d={container:b,indicator:H,spinnerWrapper:q,arrow:z,text:V,content:K};function ee({children:n,onRefresh:t,enabled:s=!0,threshold:a=80}){const{isRefreshing:c,pullDistance:i,elementRef:u}=C({onRefresh:t,threshold:a,enabled:s}),_=i>0||c,r=Math.min(i/a*100,100);return e.jsxs("div",{className:d.container,ref:u,children:[_&&e.jsxs("div",{className:d.indicator,style:{opacity:Math.min(r/100,1)},children:[e.jsx("div",{className:d.spinnerWrapper,children:c?e.jsx(T,{size:"sm"}):e.jsx("div",{className:d.arrow,style:{transform:`rotate(${r*2}deg)`},children:"â†“"})}),e.jsx("span",{className:d.text,children:c?"Refreshing...":"Pull to refresh"})]}),e.jsx("div",{className:d.content,style:{transform:_?`translateY(${Math.min(i,a)}px)`:"translateY(0)",transition:c?"transform 0.2s ease-out":"none"},children:n})]})}export{J as E,Z as L,ee as P,G as g};
